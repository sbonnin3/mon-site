<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Page Sécurisée</title>
</head>
<body style="display: none;">
    <h1>Bienvenue sur votre page sécurisée</h1>
    <p>Cette page ne peut être affichée que si vous êtes connecté.</p>
    <button id="logout-button">Déconnexion</button>
    <!-- Plus de contenu sécurisé ici -->

    <script type="module">
      import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js';
      import { getAuth, onAuthStateChanged, signOut } from 'https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js';

      const firebaseConfig = {
        apiKey: "AIzaSyD5ao6NuYU1RmCGleCRPZH7wtWPZ-yy4eo",
        authDomain: "site-perso-7be0e.firebaseapp.com",
        projectId: "site-perso-7be0e",
        storageBucket: "site-perso-7be0e.appspot.com",
        messagingSenderId: "229019002509",
        appId: "1:229019002509:web:ec0f5cdb1e92a4568ee4c4",
        measurementId: "G-4ZD50ZS2KD"
      };

      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);

      onAuthStateChanged(auth, user => {
        if (user) {
          document.body.style.display = "block";
        } else {
          window.location.href = 'index.html';
        }
      });

      document.getElementById('logout-button').addEventListener('click', () => {
        signOut(auth).then(() => {
          // Déconnexion réussie, rediriger vers la page de connexion ou toute autre page
          window.location.href = 'index.html';
        }).catch((error) => {
          // Une erreur s'est produite lors de la tentative de déconnexion
          console.error('Erreur de déconnexion', error);
        });
      });
    </script>
</body>
</html>
